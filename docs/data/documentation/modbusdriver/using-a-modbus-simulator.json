{"kind":"article","seeAlsoSections":[{"identifiers":["doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Installing-libModbus","doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Getting-started","doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/MoxaSupport"],"generated":true,"title":"Essentials"}],"hierarchy":{"paths":[["doc:\/\/ModbusDriver\/documentation\/ModbusDriver"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/modbusdriver\/using-a-modbus-simulator"]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Using-a-Modbus-simulator"},"sections":[],"metadata":{"roleHeading":"Article","title":"Using a Modbus simulator for testing purposes.","role":"article","modules":[{"name":"ModbusDriver"}],"color":{"standardColorIdentifier":"green"}},"primaryContentSections":[{"content":[{"text":"Overview","level":2,"type":"heading","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For testing purposes, you can use a Modbus simulator to simulate a Modbus device, without the need for any actual Modbus hardware."},{"type":"text","text":" "},{"text":"There is a ","type":"text"},{"type":"reference","identifier":"https:\/\/itunes.apple.com\/us\/app\/modbus-server-pro\/id618058292?mt=8","isActive":true},{"text":".","type":"text"}]},{"inlineContent":[{"identifier":"ModbusServerPro.png","type":"image"}],"type":"paragraph"},{"inlineContent":[{"text":"When you downloaded the Modbus simulator from the AppStore,","type":"text"},{"type":"text","text":" "},{"type":"text","text":"run it on a machine in your local network or simply from your development machine itself, you can use an instance of "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusSimulator"},{"type":"text","text":" class from the ModbusDriver framework to connect to it from code automatically."}],"type":"paragraph"},{"code":["let mySimulatedInputModule = IOModule(rack:0, slot:0,","signals: [","\t\tDigitalInputSignal(channelNumber:0),","\t\tDigitalInputSignal(channelNumber:1),","\t\tDigitalInputSignal(channelNumber:2),","\t\tDigitalInputSignal(channelNumber:3)","\t\t]",")","let mySimulatedOutputModule = IOModule(rack:0, slot:1,","signals: [","\t\tDigitalOutputSignal(channelNumber:0),","\t\tDigitalOutputSignal(channelNumber:1),","\t\tDigitalOutputSignal(channelNumber:2),","\t\tDigitalOutputSignal(channelNumber:3)","\t\t]",")","","\/\/ Connect a ModbusSimulator to simulated hardware running on your development machine.","let modbusSimulator = ModbusSimulator()","modbusSimulator.modbusModules = [","mySimulatedInputModule, ","mySimulatedOutputModule","]","","\/\/ Start polling the Modbus server and read\/write some IOSignals","modbusSimulator.readAllInputs()","let theFirstInputValue:Bool? = mySimulatedInputModule.signals[0].logicalValue","","let theFirstOutputValue:Bool = true","mySimulatedOutputModule.signals[0].logicalValue = theFirstOutputValue","modbusSimulator.writeAllOutputs()",""],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"As you can see a ","type":"text"},{"isActive":true,"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusSimulator","type":"reference"},{"type":"text","text":" is just another type of "},{"type":"reference","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusDriver","isActive":true},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"However it defaults to an IP address of ","type":"text"},{"code":"127.0.0.1","type":"codeVoice"},{"text":" and the logging is slightly different from that of a real ModbusDriver to make it easier to distinguish between the two.","type":"text"}]}],"kind":"content"}],"abstract":[{"text":"Test the driver without actual Modbus hardware.","type":"text"}],"references":{"doc://ModbusDriver/documentation/ModbusDriver/MoxaSupport":{"url":"\/documentation\/modbusdriver\/moxasupport","kind":"article","title":"Built in support for Moxa IOLogic 1200 series modules","role":"sampleCode","abstract":[{"text":"This framework has native support for some ","type":"text"},{"type":"reference","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/IOLogikE1200Series","isActive":true},{"type":"text","text":" modules from the Moxa-brand."}],"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/MoxaSupport","type":"topic"},"doc://ModbusDriver/documentation/ModbusDriver/Getting-started":{"url":"\/documentation\/modbusdriver\/getting-started","abstract":[{"type":"text","text":"Create a small project with some digital inputs and digital outputs."}],"role":"sampleCode","type":"topic","kind":"article","title":"Getting started","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Getting-started"},"doc://ModbusDriver/documentation/ModbusDriver/IOLogikE1200Series":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/IOLogikE1200Series","url":"\/documentation\/modbusdriver\/iologike1200series","type":"topic","abstract":[],"kind":"symbol","title":"IOLogikE1200Series","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"IOLogikE1200Series"}],"navigatorTitle":[{"text":"IOLogikE1200Series","kind":"identifier"}]},"doc://ModbusDriver/documentation/ModbusDriver":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver","abstract":[{"type":"text","text":"A driver for the Modbus-over-ethernet-protocol (written in Swift)."}],"type":"topic","url":"\/documentation\/modbusdriver","title":"ModbusDriver","kind":"symbol","role":"collection"},"doc://ModbusDriver/documentation/ModbusDriver/Installing-libModbus":{"url":"\/documentation\/modbusdriver\/installing-libmodbus","abstract":[{"type":"text","text":"The installation process for the libModbus system library."}],"role":"article","title":"Installing libModbus","type":"topic","kind":"article","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Installing-libModbus"},"doc://ModbusDriver/documentation/ModbusDriver/ModbusSimulator":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusSimulator","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ModbusSimulator"}],"kind":"symbol","navigatorTitle":[{"text":"ModbusSimulator","kind":"identifier"}],"abstract":[{"type":"text","text":"ModbusSimulator is just a special type  of ModbusDriver"},{"text":" ","type":"text"},{"type":"text","text":"It is used during development to connect to a ModbusServer that is running on your development machine."}],"title":"ModbusSimulator","url":"\/documentation\/modbusdriver\/modbussimulator"},"ModbusServerPro.png":{"alt":"The main window of ModbusServerPro application","identifier":"ModbusServerPro.png","type":"image","variants":[{"traits":["2x","light"],"url":"\/images\/ModbusServerPro@2x.png"}]},"https://itunes.apple.com/us/app/modbus-server-pro/id618058292?mt=8":{"identifier":"https:\/\/itunes.apple.com\/us\/app\/modbus-server-pro\/id618058292?mt=8","title":"Modbus simulator for MacOS available from the AppStore called ModbusServerPro","titleInlineContent":[{"type":"text","text":"Modbus simulator for MacOS available from the AppStore called ModbusServerPro"}],"type":"link","url":"https:\/\/itunes.apple.com\/us\/app\/modbus-server-pro\/id618058292?mt=8"},"doc://ModbusDriver/documentation/ModbusDriver/ModbusDriver":{"navigatorTitle":[{"text":"ModbusDriver","kind":"identifier"}],"kind":"symbol","title":"ModbusDriver","role":"symbol","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusDriver","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ModbusDriver","kind":"identifier"}],"abstract":[{"type":"text","text":"ModbusDriver is the main class for this framework"},{"type":"text","text":" "},{"type":"text","text":"It will connect to modbus modules and read\/write their inputs\/outputs"}],"url":"\/documentation\/modbusdriver\/modbusdriver","type":"topic"}}}