{"hierarchy":{"paths":[["doc:\/\/ModbusDriver\/documentation\/ModbusDriver"]]},"abstract":[{"text":"Create a small project with some digital inputs and digital outputs.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/modbusdriver\/getting-started"]}],"kind":"article","schemaVersion":{"minor":3,"major":0,"patch":0},"seeAlsoSections":[{"title":"Essentials","identifiers":["doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Installing-libModbus","doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Using-a-Modbus-simulator","doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/MoxaSupport"],"generated":true}],"identifier":{"url":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Getting-started","interfaceLanguage":"swift"},"sections":[],"metadata":{"title":"Getting started","color":{"standardColorIdentifier":"green"},"roleHeading":"Sample Code","role":"sampleCode","modules":[{"name":"ModbusDriver"}]},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"Overview","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"This sample gets you connected to a digital input module and a digital output module that are part of to the same ModbusServer, and then reads the inputs and writes the outputs.","type":"text"}]},{"text":"Essentials","type":"heading","level":2,"anchor":"Essentials"},{"text":"Define a hardwareconfiguration","anchor":"Define-a-hardwareconfiguration","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Upon intitalization each ","type":"text"},{"type":"codeVoice","code":"IOModule"},{"type":"text","text":" has a rack number, a slot number to define it’s physical location."},{"type":"text","text":"\n"},{"type":"text","text":"Each "},{"type":"codeVoice","code":"IOModule"},{"text":" also has an array of ","type":"text"},{"type":"codeVoice","code":"IOSignal"},{"type":"text","text":"s associated with it."},{"text":"\n","type":"text"},{"type":"text","text":"Together these properties are what is known as the "},{"inlineContent":[{"type":"text","text":"Hardwareconfiguration"}],"type":"emphasis"},{"type":"text","text":" and"},{"type":"text","text":" "},{"text":"wil define the destination addresses for the IOModule and each of it’s individual ","type":"text"},{"code":"IOSignal","type":"codeVoice"},{"type":"text","text":"s."}]},{"style":"important","type":"aside","content":[{"inlineContent":[{"text":"The Modbus protocol uses 0-based addressing, so the first rack is rack 0, the first slot of a rack is slot 0 and the first IOChannel of any IOModule is channel 0.","type":"text"}],"type":"paragraph"}],"name":"Important"},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Depending on the "},{"type":"codeVoice","code":"IOSignal"},{"text":"s type the Modbus protocol defines standard address ranges to read from or write to:","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"text":"The Standard Modbus addressing scheme:","type":"text"}]},{"header":"row","rows":[[[{"inlineContent":[{"type":"text","text":"Location"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Table Name"}]}],[{"inlineContent":[{"text":"Size","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Type","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"00001 - 09999","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Discrete Inputs","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"1 bit"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Read-only","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"10001 - 19999"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Coils"}]}],[{"inlineContent":[{"type":"text","text":"1 bit"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Read-write"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"30001 - 39999","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Input Registers"}]}],[{"inlineContent":[{"type":"text","text":"16 bit word"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Read-only","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"40001 - 49999"}]}],[{"inlineContent":[{"type":"text","text":"Holding Registers"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"16 bit word","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Read-write"}]}]]],"type":"table"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Lets define a "},{"inlineContent":[{"text":"hardwareconfiguration","type":"text"}],"type":"emphasis"},{"type":"text","text":" containing a 4 channel digital input module and a 4 channel digital output module in the first 2 slotst of the very first rack of "},{"code":"IOModule","type":"codeVoice"},{"type":"text","text":"s."}]},{"code":["","let myDigitalInputModule = IOModule(rack:0, slot:0,","\tsignals: [","\tDigitalInputSignal(channelNumber:0),","\tDigitalInputSignal(channelNumber:1),","\tDigitalInputSignal(channelNumber:2),","\tDigitalInputSignal(channelNumber:3)","\t]",")","let myDigitalOutputModule = IOModule(rack:0, slot:1,","\tsignals: [","\tDigitalOutputSignal(channelNumber:0),","\tDigitalOutputSignal(channelNumber:1),","\tDigitalOutputSignal(channelNumber:2),","\tDigitalOutputSignal(channelNumber:3)","\t]",")"],"type":"codeListing","syntax":"swift"},{"anchor":"Connect-to-the-Modbus-server","type":"heading","text":"Connect to the Modbus server","level":3},{"type":"paragraph","inlineContent":[{"text":"Add your hardwareconfiguration to a ModbusDriver that will thet automatically connect to your Modbus server:","type":"text"}]},{"content":[{"inlineContent":[{"text":"The standard port for Modbus TCP is 502","type":"text"}],"type":"paragraph"}],"name":"Note","type":"aside","style":"note"},{"syntax":"swift","code":["let modbusDriver = ModbusDriver(IPAddress: \"192.168.0.100\", port: 502)","modbusDriver.modbusModules = [","\tmyDigitalInputModule, ","\tmyDigitalOutputModule","]"],"type":"codeListing"},{"type":"heading","text":"Start polling the Modbus server and read\/write some IOSignals","level":3,"anchor":"Start-polling-the-Modbus-server-and-readwrite-some-IOSignals"},{"code":["modbusDriver.readAllInputs()","let theFirstInputValue:Bool? = myDigitalInputModule.signals[0].logicalValue","","let theFirstOutputValue:Bool = true","myDigitalOutputModule.signals[0].logicalValue = theFirstOutputValue","modbusDriver.writeAllOutputs()",""],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"that’s it!"}],"type":"paragraph"},{"style":"tip","name":"Tip","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If you don’t have a some Modbus hardware handy, read on to the next section to learn how to use a "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusSimulator"},{"type":"text","text":" instead."}]}]}]}],"references":{"doc://ModbusDriver/documentation/ModbusDriver/Using-a-Modbus-simulator":{"abstract":[{"type":"text","text":"Test the driver without actual Modbus hardware."}],"type":"topic","role":"article","title":"Using a Modbus simulator for testing purposes.","url":"\/documentation\/modbusdriver\/using-a-modbus-simulator","kind":"article","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Using-a-Modbus-simulator"},"doc://ModbusDriver/documentation/ModbusDriver/ModbusSimulator":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/ModbusSimulator","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ModbusSimulator"}],"kind":"symbol","navigatorTitle":[{"text":"ModbusSimulator","kind":"identifier"}],"abstract":[{"type":"text","text":"ModbusSimulator is just a special type  of ModbusDriver"},{"text":" ","type":"text"},{"type":"text","text":"It is used during development to connect to a ModbusServer that is running on your development machine."}],"title":"ModbusSimulator","url":"\/documentation\/modbusdriver\/modbussimulator"},"doc://ModbusDriver/documentation/ModbusDriver":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver","abstract":[{"type":"text","text":"A driver for the Modbus-over-ethernet-protocol (written in Swift)."}],"type":"topic","url":"\/documentation\/modbusdriver","title":"ModbusDriver","kind":"symbol","role":"collection"},"doc://ModbusDriver/documentation/ModbusDriver/Installing-libModbus":{"url":"\/documentation\/modbusdriver\/installing-libmodbus","abstract":[{"type":"text","text":"The installation process for the libModbus system library."}],"role":"article","title":"Installing libModbus","type":"topic","kind":"article","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/Installing-libModbus"},"doc://ModbusDriver/documentation/ModbusDriver/IOLogikE1200Series":{"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/IOLogikE1200Series","url":"\/documentation\/modbusdriver\/iologike1200series","type":"topic","abstract":[],"kind":"symbol","title":"IOLogikE1200Series","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"IOLogikE1200Series"}],"navigatorTitle":[{"text":"IOLogikE1200Series","kind":"identifier"}]},"doc://ModbusDriver/documentation/ModbusDriver/MoxaSupport":{"url":"\/documentation\/modbusdriver\/moxasupport","kind":"article","title":"Built in support for Moxa IOLogic 1200 series modules","role":"sampleCode","abstract":[{"text":"This framework has native support for some ","type":"text"},{"type":"reference","identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/IOLogikE1200Series","isActive":true},{"type":"text","text":" modules from the Moxa-brand."}],"identifier":"doc:\/\/ModbusDriver\/documentation\/ModbusDriver\/MoxaSupport","type":"topic"}}}